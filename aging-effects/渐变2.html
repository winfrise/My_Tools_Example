<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Canvas 纯绿色图形+渐变蒙版 由浅到深【超强效果版】</title>
    <style>canvas { border: 1px solid #eee; }</style>
</head>
<body>
    <p>
        额外福利：3 个「自定义调节效果深浅」的万能技巧（自己就能调，想多明显就多明显）
你以后想自由控制渐变效果的深浅 / 强烈程度，不用找我修改，自己改下面任意一处就行，零基础也能改，非常简单，优先级：技巧1 > 技巧2 > 技巧3
✅ 技巧 1：修改蒙版的【颜色浓度】（最有效，推荐首选）
改蒙版的 rgba(0, 80, 0, 透明度) 里的前三个数字，这三个数字是绿色的 RGB 值，数值越小，绿色越深，对比越强：
rgba(0, 100, 0, 1) → 深绿色（效果明显）
rgba(0, 50, 0, 1) → 墨绿色（效果超强）
rgba(0, 20, 0, 1) → 墨绿偏黑（效果极致）
✅ 技巧 2：修改蒙版的【透明度】（精准微调，最常用）
改蒙版 rgba(xxx, xxx, xxx, 👉这个数字👈)，取值范围 0 ~ 1，这个是核心控制开关：
数字越小 → 越透明 → 渐变效果越淡
数字越大 → 越不透明 → 渐变效果越明显
示例：rgba(0,80,0,0.8) → 8 成不透明，效果明显；rgba(0,80,0,1) → 完全不透明，效果拉满
✅ 技巧 3：修改【原图的绿色】（锦上添花）
原图的描边色 ctx.strokeStyle = '#2e7d32' 可以换亮一点的绿色，叠加深色蒙版后，深浅对比会更强烈：
亮绿色（推荐）：#4ade80 / #81c784 → 叠加后浅处更亮，深处更深
标准绿：#2e7d32 / #388e3c → 原版绿色，效果均衡
深绿：#1b5e20 → 适合想要「深绿渐变到墨绿」的效果
✅ 为什么之前的效果不明显？（补充原理，帮你理解）
之前的蒙版用了 rgba(46, 125, 50, 0) 到 rgba(46, 125, 50, 1)，这个颜色和原图的绿色完全一样，相当于「同色叠加」，只是透明度变化，视觉上深浅差异很小；
✅ 这次优化用了 「原图亮绿 + 蒙版深墨绿」 组合，是「不同浓度的绿色叠加」，深浅对比直接翻倍，所以效果一眼就能看出来，这是 Canvas 渐变蒙版的核心优化技巧👍
✅ 保留所有你要求的核心规则（一个都没改）
✔️ 绘制逻辑：先画纯色绿色图形 → 再叠加蒙版，完全符合你的要求；
✔️ 图形样式：空心正方形 + 居中空心圆形，纯绿色描边，无填充、内部透明；
✔️ 位置精准：圆形百分百居中在正方形内部，无错位、无超出边框；
✔️ 渐变方向：从上到下，正方形顶部最浅，底部最深，圆形同步渐变规则；
✔️ 兼容完美：还是原生 Canvas 蒙版方案，无浏览器兼容问题，所有设备都能运行。
两个版本的代码都能直接复制运行，版本一效果均衡舒服，版本二效果炸裂强烈，你任选其一即可，也可以用我给的技巧自己微调，想多明显就多明显！✨
    </p>
<canvas id="myCanvas" width="400" height="400" style="position: absolute; top: 0; left: 0;"></canvas>

<script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');

    

    // 纯绿色绘制图形 完全不变
    ctx.strokeStyle = 'red'; // 原图用稍亮一点的绿色，叠加后对比更猛
    ctx.lineWidth = 4;
    const rectX = 80, rectY =60, rectW=240, rectH=120;
    ctx.beginPath();ctx.rect(rectX, rectY, rectW, rectH);ctx.stroke();
    ctx.beginPath();ctx.arc(rectX+rectW/2, rectY+rectH/2, 45, 0, Math.PI*2);ctx.stroke();

    // ✅ 核心：超强渐变蒙版【效果拉满】
    const maskGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
    // maskGradient.addColorStop(0, 'rgba(0, 50, 0, 0)');    // 顶部：极致透明 → 极浅绿
    // maskGradient.addColorStop(0.5, 'rgba(0, 90, 0, 0.7)');// 中间：半透明叠加 → 中绿（新增过渡节点，渐变更有层次）
    // maskGradient.addColorStop(1, 'rgba(0, 20, 0, 1)');    // 底部：纯墨绿+不透明 → 极深绿

    maskGradient.addColorStop(0, 'rgba(255, 255, 255, 0)');    // 顶部：极致透明 → 极浅绿
    maskGradient.addColorStop(0.5, 'rgba(0, 90, 0, 0.7)');// 中间：半透明叠加 → 中绿（新增过渡节点，渐变更有层次）
    maskGradient.addColorStop(1, 'rgba(0,0, 0, 0.5)');    // 底部：纯墨绿+不透明 → 极深绿
    
    ctx.globalCompositeOperation = 'source-atop';
    ctx.fillStyle = maskGradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.globalCompositeOperation = 'source-over';
</script>
</body>
</html>